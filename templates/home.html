<html>

<head>
    <script>
        // Mapping of district to coordinates
        const districtCoordinates = {
            "Arghakhanchi": [27.9, 83.2],
            "Baglung": [28.3, 83.6],
            "Baitadi": [29.5, 80.5],
            "Bajang": [29.6, 81.2],
            "Banke": [28.1, 81.7],
            "Bara": [27.2, 85.0],
            "Bardiya": [28.3, 81.4],
            "Bhaktapur": [27.7, 85.5],
            "Chitawan": [27.7, 84.4],
            "Dadeldhura": [29.3, 80.6],
            "Dailekh": [28.8, 81.7],
            "Dang": [28.0, 82.4],
            "Darchula": [29.9, 80.6],
            "Dhading": [27.7, 85.2],
            "Dhankuta": [27.0, 87.3],
            "Dhanusa": [26.7, 85.9],
            "Dolkha": [27.6, 86.2],
            "Dolpa": [29.0, 82.9],
            "Doti": [29.2, 80.9],
            "Gorkha": [28.0, 84.6],
            "Gulmi": [28.1, 83.2],
            "Humla": [30.0, 81.8],
            "Ilam": [26.9, 87.9],
            "Jhapa": [26.7, 87.9],
            "Jumla": [29.3, 82.3],
            "Kabhre": [27.6, 85.6],
            "Kailali": [28.8, 80.8],
            "Kanchanpur": [29.0, 80.2],
            "Kaski": [28.2, 84.0],
            "Kathmandu": [27.7, 85.3],
            "Lalitpur": [27.6, 85.3],
            "Lamjung": [28.3, 84.4],
            "Mahottari": [26.7, 85.8],
            "Makwanpur": [27.4, 85.0],
            "Manang": [28.6, 84.2],
            "Morang": [26.5, 87.3],
            "Mugu": [29.5, 82.1],
            "Mustang": [28.9, 83.8],
            "Myagdi": [28.4, 83.6],
            "Nawalparasi": [27.6, 84.0],
            "Nuwakot": [27.8, 85.2],
            "Okhaldhunga": [27.3, 86.5],
            "Palpa": [27.9, 83.5],
            "Panchther": [27.1, 87.8],
            "Parbat": [28.2, 83.7],
            "Rasuwa": [28.1, 85.3],
            "Routahat": [26.8, 85.3],
            "Rukum": [28.6, 82.4],
            "Rupandehi": [27.5, 83.4],
            "Salyan": [28.4, 82.1],
            "Sankhuwasabha": [27.3, 87.3],
            "Saptari": [26.6, 86.8],
            "Sarlahi": [26.9, 85.5],
            "Sindhuli": [27.2, 85.9],
            "Solukhumbu": [28.0, 86.8],
            "Sunsari": [26.6, 87.1],
            "Surkhet": [28.5, 81.7],
            "Syangja": [28.0, 83.8],
            "Tanahun": [28.0, 84.1],
            "Taplejung": [27.4, 87.7],
            "Terhathum": [27.1, 87.5],
            "Udayapur": [26.9, 86.5]
        };

        function setCoordinates() {
            const district = document.getElementById("district").value;
            const lat = document.getElementById("Latitude");
            const lon = document.getElementById("Longitude");

            if (district in districtCoordinates) {
                lat.value = districtCoordinates[district][0];
                lon.value = districtCoordinates[district][1];
            } else {
                lat.value = "";
                lon.value = "";
            }
        }
    </script>
</head>

<body>
    <div class="login">
        <h1>Weather Prediction System</h1>

        <form action="{{ url_for('predict_datapoint')}}" method="post">
            <h2>
                <legend>Enter Weather Parameters</legend>
            </h2>

            <div class="mb-3">
                <label class="form-label">District</label>
                <select class="form-control" id="district" name="District" onchange="setCoordinates()" required>
                    <option class="placeholder" selected disabled value="">Select District</option>
                    <!-- Dynamically populated -->
                    <option value="Arghakhanchi">Arghakhanchi</option>
                    <option value="Baglung">Baglung</option>
                    <option value="Baitadi">Baitadi</option>
                    <option value="Bajang">Bajang</option>
                    <option value="Banke">Banke</option>
                    <option value="Bara">Bara</option>
                    <option value="Bardiya">Bardiya</option>
                    <option value="Bhaktapur">Bhaktapur</option>
                    <option value="Chitawan">Chitawan</option>
                    <option value="Dadeldhura">Dadeldhura</option>
                    <option value="Dailekh">Dailekh</option>
                    <option value="Dang">Dang</option>
                    <option value="Darchula">Darchula</option>
                    <option value="Dhading">Dhading</option>
                    <option value="Dhankuta">Dhankuta</option>
                    <option value="Dhanusa">Dhanusa</option>
                    <option value="Dolkha">Dolkha</option>
                    <option value="Dolpa">Dolpa</option>
                    <option value="Doti">Doti</option>
                    <option value="Gorkha">Gorkha</option>
                    <option value="Gulmi">Gulmi</option>
                    <option value="Humla">Humla</option>
                    <option value="Ilam">Ilam</option>
                    <option value="Jhapa">Jhapa</option>
                    <option value="Jumla">Jumla</option>
                    <option value="Kabhre">Kabhre</option>
                    <option value="Kailali">Kailali</option>
                    <option value="Kanchanpur">Kanchanpur</option>
                    <option value="Kaski">Kaski</option>
                    <option value="Kathmandu">Kathmandu</option>
                    <option value="Lalitpur">Lalitpur</option>
                    <option value="Lamjung">Lamjung</option>
                    <option value="Mahottari">Mahottari</option>
                    <option value="Makwanpur">Makwanpur</option>
                    <option value="Manang">Manang</option>
                    <option value="Morang">Morang</option>
                    <option value="Mugu">Mugu</option>
                    <option value="Mustang">Mustang</option>
                    <option value="Myagdi">Myagdi</option>
                    <option value="Nawalparasi">Nawalparasi</option>
                    <option value="Nuwakot">Nuwakot</option>
                    <option value="Okhaldhunga">Okhaldhunga</option>
                    <option value="Palpa">Palpa</option>
                    <option value="Panchther">Panchther</option>
                    <option value="Parbat">Parbat</option>
                    <option value="Rasuwa">Rasuwa</option>
                    <option value="Routahat">Routahat</option>
                    <option value="Rukum">Rukum</option>
                    <option value="Rupandehi">Rupandehi</option>
                    <option value="Salyan">Salyan</option>
                    <option value="Sankhuwasabha">Sankhuwasabha</option>
                    <option value="Saptari">Saptari</option>
                    <option value="Sarlahi">Sarlahi</option>
                    <option value="Sindhuli">Sindhuli</option>
                    <option value="Solukhumbu">Solukhumbu</option>
                    <option value="Sunsari">Sunsari</option>
                    <option value="Surkhet">Surkhet</option>
                    <option value="Syangja">Syangja</option>
                    <option value="Tanahun">Tanahun</option>
                    <option value="Taplejung">Taplejung</option>
                    <option value="Terhathum">Terhathum</option>
                    <option value="Udayapur">Udayapur</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Latitude</label>
                <input class="form-control" type="number" step="any" name="Latitude" id="Latitude" readonly required />
            </div>

            <div class="mb-3">
                <label class="form-label">Longitude</label>
                <input class="form-control" type="number" step="any" name="Longitude" id="Longitude" readonly
                    required />
            </div>

            <div class="mb-3">
                <label class="form-label">Max Temperature (°C)</label>
                <input class="form-control" type="number" step="any" name="MaxTemp_2m"
                    placeholder="Enter Max Temperature" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Min Temperature (°C)</label>
                <input class="form-control" type="number" step="any" name="MinTemp_2m"
                    placeholder="Enter Min Temperature" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Pressure (hPa)</label>
                <input class="form-control" type="number" step="any" name="Pressure" placeholder="Enter Pressure"
                    required />
            </div>

            <div class="mb-3">
                <label class="form-label">Humidity (%)</label>
                <input class="form-control" type="number" step="any" name="Humidity_2m" placeholder="Enter Humidity"
                    required />
            </div>

            <div class="mb-3">
                <label class="form-label">Wind Speed (10m, m/s)</label>
                <input class="form-control" type="number" step="any" name="WindSpeed_10m" placeholder="Enter Wind Speed"
                    required />
            </div>

            <div class="mb-3">
                <input class="btn btn-primary" type="submit" value="Predict Temperature" />
            </div>
        </form>

        <h2>The prediction is: {{ results }}</h2>
    </div>
</body>

</html>